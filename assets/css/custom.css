/* ---------- brand ---------- */
:root{
  --brand:#0b157a;
  --brand-weak:#cfd0e6;
  --ink:#111;
  --bg:#fff;
  --accent:#2bb5a1;
  --sm-line:1.6rem;
}

/* æœ¬æ–‡ */
body{color:var(--ink);background:var(--bg);line-height:1.85;}

/* ---------- ã‚°ãƒ­ãƒ¼ãƒãƒ«ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆstickyï¼‰ ---------- */
.header{
  position: sticky; top: 0; z-index: 100; background:#f5f6f8;
  border-bottom:2px solid var(--brand); box-shadow:0 2px 6px rgba(0,0,0,.06);
  overflow: visible; /* â† å±•é–‹ãŒè¦‹åˆ‡ã‚Œãªã„ */
}
.fixed-table{width:100%;table-layout:fixed;border-collapse:separate;border-spacing:0; padding-right:280px;} /* æ¤œç´¢åˆ†ã®ä½™ç™½ */
@media (max-width:768px){ .fixed-table{ padding-right:0; } }

.fixed-table th{vertical-align:top;text-align:left;padding:.25rem .5rem;border-right:1px solid #e5e7eb}
.fixed-table th:last-child{border-right:none}
.header thead tr{background:#f5f6f8;border-bottom:1px solid #e5e7eb}
.header details{margin:.25rem 0; position:relative; z-index:90;}
.header a{text-decoration:none;border-bottom:1px dotted rgba(0,0,0,.25);}
.header a:hover{border-bottom-color:var(--brand);}

/* ãƒˆãƒƒãƒ—ãƒ¬ãƒ™ãƒ« summary = ãƒœã‚¿ãƒ³é¢¨ */
.header th > details > summary{
  display:inline-block; cursor:pointer;
  padding:.4rem .75rem; margin:.25rem .35rem;
  border:1px solid #d9dde5; border-radius:.45rem;
  background:#fff; color:#204db3; font-weight:700;
}
.header th > details[open] > summary{
  background:#eaf0ff; border-color:#c4d2f7; color:#0b157a;
}

/* ä¸‹ä½ summary = â–¶ ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³é¢¨ */
.header ul.gnav, .header .index{list-style:none;margin:.25rem 0 0;padding-left:1rem}
.header ul.gnav > details > summary{
  display:flex; align-items:center; gap:.4rem;
  padding:.2rem 0; margin:.15rem 0; cursor:pointer;
  border:0; background:transparent; color:#333; font-weight:700;
}
.header ul.gnav > details > summary::before{
  content:"â–¸"; color:#0b157a; transition:transform .2s ease;
}
.header ul.gnav > details[open] > summary::before{ transform:rotate(90deg); }

/* ã‚µã‚¤ãƒˆãƒãƒƒãƒ—ã®ãƒ—ãƒ«ãƒ€ã‚¦ãƒ³: 10è¡Œã§æ‰“ã¡æ­¢ã‚ï¼‹ä¸­ã ã‘ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« */
.header details > ul,
.header details > .index,
.header details > .gnav{
  max-height: calc(var(--sm-line) * 10);
  min-width: 200px;
  max-width: 400px;
  overflow:auto; -webkit-overflow-scrolling:touch;
  background:#fff; border:1px solid #e5e7eb; border-radius:.5rem;
  box-shadow:0 8px 20px rgba(0,0,0,.08);
  padding:.5rem .75rem; margin-top:.35rem;
}
.header ul.gnav > details > ul,
.header ul.gnav > details > .index{
  max-height: calc(var(--sm-line) * 10);
  overflow:auto; -webkit-overflow-scrolling:touch;
  background:#fff; border:1px solid #e5e7eb; border-radius:.4rem;
  padding:.4rem .6rem; margin:.35rem 0 .25rem .25rem;
}
@media (max-width:768px){
  .header details > ul,
  .header details > .index,
  .header ul.gnav > details > ul,
  .header ul.gnav > details > .index{
    max-height:min(60vh, calc(var(--sm-line) * 10));
  }
}
/* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼æ§ãˆã‚ */
.header details ul::-webkit-scrollbar{width:8px}
.header details ul::-webkit-scrollbar-thumb{background:#c8d0e6;border-radius:8px}
.header details ul{scrollbar-width:thin;scrollbar-color:#c8d0e6 transparent}

/* å³ç«¯æ¤œç´¢ï¼šã‚¿ã‚¤ãƒˆãƒ«ã‚‚æ¨ªä¸¦ã³ã§ */
.header-search-fixed{
  position:absolute; right:12px; top:8px; z-index:110;
  display:flex; align-items:center; gap:.65rem;
}
.header-search-fixed .site-title{
  font-weight:800; color:#0b157a; white-space:nowrap;
}

/* å…¥åŠ›ã¨çµæœ */
.header-search-fixed #search-input{
  width:240px; max-width:38vw;
  padding:.35rem .55rem; font-size:.9rem;
  border:1px solid #e5e7eb; border-radius:.45rem; background:#fff;
}
.header-search-fixed #search-results{
  position:absolute; right:0; top:calc(100% + .35rem); z-index:120;
  min-width:240px; max-width:60vw;
  margin:0; background:#fff; border:1px solid #e5e7eb; border-radius:.5rem;
  padding:.35rem .5rem;
  max-height:min(60vh, 520px);       /* â† PC ã§ã‚‚ä¸Šé™é«˜ã• */
  overflow-y:auto;                   /* â† å¸¸ã«ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¨±å¯ */
  overflow-x:hidden;
  overscroll-behavior:contain;
  box-shadow:0 8px 20px rgba(0,0,0,.06);
}
.header-search-fixed #search-results[hidden]{ display:none; }
.header-search-fixed #search-results .hits{ list-style:none; margin:0; padding:0; }
.header-search-fixed #search-results li{ margin:.25rem 0; }
.header-search-fixed #search-results a{ text-decoration:none; color:#0b157a; }
.header-search-fixed #search-results .s{ font-size:.85rem; color:#444; opacity:.9; }

@media (max-width:768px){
  .header-search-fixed{ position:static; padding:.4rem .5rem; }
  .header-search-fixed #search-results{ position:static; max-width:100%; }
}

/* ã€Œç›®æ¬¡ã€ãƒ©ãƒ™ãƒ«ï¼ˆå³ã‚µã‚¤ãƒ‰ï¼‰ */
.toc-side-title{position:relative;padding-left:1.75rem;font-weight:800;margin:.25rem 0 .5rem;border-bottom:1px solid #e5e7eb;padding-bottom:.25rem;}
.toc-side-title::before{content:"ğŸ“‘";position:absolute;left:.25rem;top:50%;transform:translateY(-50%);font-size:1.1rem;opacity:.9}

/* ---------- H1 / H2 ---------- */
main{counter-reset:h1;}
main h1{counter-increment:h1;counter-reset:h2;}

h1{
  position:relative; margin:1.25rem 0 .75rem;
  padding:1.1rem 1rem 1.1rem 8.5rem;
  border:0; border-top:3px solid var(--brand); border-right:3px solid var(--brand); border-bottom:2px solid #e5e7eb;
  font-size:clamp(1.6rem,2.2vw,2.2rem); font-weight:800;
}
h1::before{
  content:""; position:absolute; left:.7rem; top:.5rem; bottom:.5rem;
  width:6.2rem; display:flex; align-items:center; justify-content:center;
  background:var(--brand); color:#fff; font-weight:800; font-size:2.2rem;
}
h1::after{
  content:""; position:absolute; left:6.9rem; top:.5rem; bottom:.5rem; width:2rem;
  background:linear-gradient(75deg, var(--brand) 0 50%, transparent 50% 100%);
}

h2{
  position:relative; margin:1.2rem 0 .6rem; padding:.6rem 1rem;
  background:#cfd0e6; border-left:8px solid var(--brand); border-bottom:3px solid var(--brand);
  font-size:clamp(1.25rem,1.6vw,1.6rem); font-weight:800;
}

/* ---------- æƒ…å ±ãƒœãƒƒã‚¯ã‚¹ ---------- */
.box{
  margin:1rem 0; padding:1rem 1.1rem;
  background:#f7fbff; border:2px solid #87d1e5; border-radius:10px;
  box-shadow:0 1px 0 rgba(0,0,0,.03) inset;
}
.box .title{font-weight:800;color:#d53535;display:block;margin-bottom:.5rem;}
.box.note{background:#fffdf7;border-color:#f2cf66;}
.box.tip{ background:#f4fffb;border-color:#7ad9c2;}
.em-red{color:#d53535;font-weight:700;}

/* ---------- æœ¬æ–‡å¹…/ä½™ç™½ ---------- */
main.content{max-width:1024px;margin:0 auto;padding:1rem;}
main p{margin:.6rem 0;}
main ul,main ol{margin:.5rem 0 .8rem 1.4rem}

/* ===================== ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆæœ¬æ–‡ + å³TOCï¼‰ ===================== */
#layout .page-wrap{
  max-width:1200px; margin:0 auto; padding:0 1rem;
  display:grid; grid-template-columns:1fr; gap:1.25rem;
}
@media (min-width:1100px){
  #layout .page-wrap{ grid-template-columns:minmax(0,1fr) 300px; }
}

/* ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ—ï¼šæ¨ªã¯ã¿å‡ºã—ã¯åˆ—ã®ä¸­ã§æ­¢ã‚ã‚‹ï¼ˆå³TOCã¯å½±éŸ¿ãªã—ï¼‰ */
#layout .content{min-width:0;max-width:100%;overflow-x:hidden;position:relative;}

/* ç”»åƒ/è¡¨/ã‚³ãƒ¼ãƒ‰ã¯å€‹åˆ¥ã§æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«è¨±å¯ */
img, video { max-width:100%; height:auto; display:block; }
table{ display:block; max-width:100%; overflow-x:auto; }
pre{ max-width:100%; overflow:auto; }

/* å³ã‚µã‚¤ãƒ‰ TOCï¼ˆPCã®ã¿è¡¨ç¤ºã€stickyï¼‰ */
.toc-side{
  display:none; background:#fff; border:1px solid #e5e7eb; border-radius:10px;
  box-shadow:0 2px 6px rgba(0,0,0,.04); padding:.75rem .75rem 1rem; overflow:auto;
}
@media (min-width:1100px){
  .toc-side{ display:block; position:sticky; top:72px; height:calc(100vh - 120px); }
}

/* ç›®æ¬¡ãƒªã‚¹ãƒˆ */
.toc-box{margin:.75rem 0 1rem;padding:.75rem 1rem;border:1px solid #e5e7eb;border-radius:10px;background:#fafcff;}
.toc-list{list-style:none;padding-left:.25rem;margin:0;}
.toc-list>li{margin:.35rem 0;}
.toc-list a{text-decoration:none;color:#0b157a;border-bottom:1px dashed rgba(11,21,122,.35);}
.toc-list a:hover{border-bottom-color:#0b157a;}
.toc-list li ul{list-style:none;margin:.25rem 0 .35rem .9rem;padding-left:0;border-left:2px solid rgba(11,21,122,.15);padding-left:.6rem;}

/* ===================== MathJaxï¼šæ•°å¼ã ã‘æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« ===================== */
.math-scroll{display:block;max-width:100%;overflow-x:auto;-webkit-overflow-scrolling:touch;will-change:scroll-position;}
.math-scroll mjx-container[display="true"]{display:inline-block;max-width:none;padding:.25rem 0;}
.math-scroll mjx-container[display="true"] mjx-math{white-space:nowrap;}
mjx-container{max-width:100%;}
mjx-container:not([display="true"]){max-width:100%;}

details summary{ cursor:pointer; }
details[open]{ padding-bottom:.25rem; }
details pre{ margin:.5rem 0; }

/* æœ€çµ‚æ›´æ–° */
.article-head{ position:relative; }
.last-updated{ font-size:.85rem; color:#6b7280; margin-top:.2rem; }
@media (max-width:768px){
  .last-updated{ position:static; display:block; text-align:right; margin-top:.25rem; }
}

/* æ¤œç´¢ãªã—æ™‚ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ */
.nohit{ padding:.5rem .45rem; color:#666; }

.site-title {
  font-weight:800;
  font-size:1.05rem;
  color:#0b157a;
  text-decoration:none; /* ä¸‹ç·šãªã— */
  margin-right:.75rem;
}
.site-title:hover {
  color:#204db3;
  text-decoration:underline;
}